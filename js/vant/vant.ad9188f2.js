import{u as Te,r as w,a as J,i as de,w as O,g as ve,I as _,c as E,J as v,K as Fe,e as ge,f as Oe,b as _e,L as ze,n as he}from"../@vue/@vue.6df83f97.js";import{u as Ie,a as Re,b as ke,c as Me,d as U,e as Ye}from"../@vant/@vant.fbf6aab4.js";const Q=Object.assign,Ne=typeof window<"u",me=e=>e!==null&&typeof e=="object",X=e=>e!=null,Le=e=>typeof e=="function",ye=e=>typeof e=="number"||/^\d+(\.\d+)?$/.test(e),Xe=()=>Ne?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function oe(e,t){const a=t.split(".");let i=e;return a.forEach(s=>{var n;i=me(i)&&(n=i[s])!=null?n:""}),i}const S=[Number,String],N={type:Boolean,default:!0},G=e=>({type:S,default:e}),C=e=>({type:String,default:e});Xe();const je=e=>e.stopPropagation();function Ee(e,t){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),t&&je(e)}function ue(e){const t=Te(e);if(!t)return!1;const a=window.getComputedStyle(t),i=a.display==="none",s=t.offsetParent===null&&a.position!=="fixed";return i||s}const{width:Ke,height:Ue}=Ie();function x(e){if(X(e))return ye(e)?`${e}px`:String(e)}function We(e){if(X(e)){if(Array.isArray(e))return{width:x(e[0]),height:x(e[1])};const t=x(e);return{width:t,height:t}}}const He=/-(\w)/g,be=e=>e.replace(He,(t,a)=>a.toUpperCase()),q=(e,t,a)=>Math.min(Math.max(e,t),a),{hasOwnProperty:Ve}=Object.prototype;function Ge(e,t,a){const i=t[a];X(i)&&(!Ve.call(e,a)||!me(i)?e[a]=i:e[a]=pe(Object(e[a]),i))}function pe(e,t){return Object.keys(t).forEach(a=>{Ge(e,t,a)}),e}var qe={name:"姓名",tel:"电话",save:"保存",clear:"清空",cancel:"取消",confirm:"确认",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>`${e}年${t}月`,rangePrompt:e=>`最多选择 ${e} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:e=>`${e}折`,condition:e=>`满${e}元可用`},vanCouponCell:{title:"优惠券",count:e=>`${e}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}};const ce=w("zh-CN"),le=J({"zh-CN":qe}),Ze={messages(){return le[ce.value]},use(e,t){ce.value=e,this.add({[e]:t})},add(e={}){pe(le,e)}};var Je=Ze;function Qe(e){const t=be(e)+".";return(a,...i)=>{const s=Je.messages(),n=oe(s,t+a)||oe(s,a);return Le(n)?n(...i):n}}function Z(e,t){return t?typeof t=="string"?` ${e}--${t}`:Array.isArray(t)?t.reduce((a,i)=>a+Z(e,i),""):Object.keys(t).reduce((a,i)=>a+(t[i]?Z(e,i):""),""):""}function et(e){return(t,a)=>(t&&typeof t!="string"&&(a=t,t=""),t=t?`${e}__${t}`:e,`${t}${Z(t,a)}`)}function A(e){const t=`van-${e}`;return[t,et(t),Qe(t)]}const tt="van-hairline",nt=`${tt}--surround`,se=5;function z(e){return e.install=t=>{const{name:a}=e;a&&(t.component(a,e),t.component(be(`-${a}`),e))},e}const at=Symbol();function it(e){const t=de(at,null);t&&O(t,a=>{a&&e()})}function we(e){const t=ve();t&&Q(t.proxy,e)}const ot={to:[String,Object],url:String,replace:Boolean};function ut({to:e,url:t,replace:a,$router:i}){e&&i?i[a?"replace":"push"](e):t&&(a?location.replace(t):location.href=t)}function ct(){const e=ve().proxy;return()=>ut(e)}const[lt,re]=A("badge"),st={dot:Boolean,max:S,tag:C("div"),color:String,offset:Array,content:S,showZero:N,position:C("top-right")};var rt=_({name:lt,props:st,setup(e,{slots:t}){const a=()=>{if(t.content)return!0;const{content:u,showZero:f}=e;return X(u)&&u!==""&&(f||u!==0&&u!=="0")},i=()=>{const{dot:u,max:f,content:o}=e;if(!u&&a())return t.content?t.content():X(f)&&ye(o)&&+o>+f?`${f}+`:o},s=u=>u.startsWith("-")?u.replace("-",""):`-${u}`,n=E(()=>{const u={background:e.color};if(e.offset){const[f,o]=e.offset,{position:c}=e,[r,g]=c.split("-");t.default?(typeof o=="number"?u[r]=x(r==="top"?o:-o):u[r]=r==="top"?x(o):s(o),typeof f=="number"?u[g]=x(g==="left"?f:-f):u[g]=g==="left"?x(f):s(f)):(u.marginTop=x(o),u.marginLeft=x(f))}return u}),d=()=>{if(a()||e.dot)return v("div",{class:re([e.position,{dot:e.dot,fixed:!!t.default}]),style:n.value},[i()])};return()=>{if(t.default){const{tag:u}=e;return v(u,{class:re("wrapper")},{default:()=>[t.default(),d()]})}return d()}}});const ft=z(rt),[dt,kt]=A("config-provider"),vt=Symbol(dt),[gt,fe]=A("icon"),ht=e=>e==null?void 0:e.includes("/"),mt={dot:Boolean,tag:C("i"),name:String,size:S,badge:S,color:String,badgeProps:Object,classPrefix:String};var yt=_({name:gt,props:mt,setup(e,{slots:t}){const a=de(vt,null),i=E(()=>e.classPrefix||(a==null?void 0:a.iconPrefix)||fe());return()=>{const{tag:s,dot:n,name:d,size:u,badge:f,color:o}=e,c=ht(d);return v(ft,Fe({dot:n,tag:s,class:[i.value,c?"":`${i.value}-${d}`],style:{color:o,fontSize:x(u)},content:f},e.badgeProps),{default:()=>{var r;return[(r=t.default)==null?void 0:r.call(t),c&&v("img",{class:fe("image"),src:d},null)]}})}}});const Et=z(yt),[bt,L]=A("loading"),pt=Array(12).fill(null).map((e,t)=>v("i",{class:L("line",String(t+1))},null)),wt=v("svg",{class:L("circular"),viewBox:"25 25 50 50"},[v("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),xt={size:S,type:C("circular"),color:String,vertical:Boolean,textSize:S,textColor:String};var Bt=_({name:bt,props:xt,setup(e,{slots:t}){const a=E(()=>Q({color:e.color},We(e.size))),i=()=>{const n=e.type==="spinner"?pt:wt;return v("span",{class:L("spinner",e.type),style:a.value},[t.icon?t.icon():n])},s=()=>{var n;if(t.default)return v("span",{class:L("text"),style:{fontSize:x(e.textSize),color:(n=e.textColor)!=null?n:e.color}},[t.default()])};return()=>{const{type:n,vertical:d}=e;return v("div",{class:L([n,{vertical:d}]),"aria-live":"polite","aria-busy":!0},[i(),s()])}}});const St=z(Bt),[$t,F]=A("button"),Ct=Q({},ot,{tag:C("button"),text:String,icon:String,type:C("default"),size:C("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:C("button"),loadingSize:S,loadingText:String,loadingType:String,iconPosition:C("left")});var Pt=_({name:$t,props:Ct,emits:["click"],setup(e,{emit:t,slots:a}){const i=ct(),s=()=>a.loading?a.loading():v(St,{size:e.loadingSize,type:e.loadingType,class:F("loading")},null),n=()=>{if(e.loading)return s();if(a.icon)return v("div",{class:F("icon")},[a.icon()]);if(e.icon)return v(Et,{name:e.icon,class:F("icon"),classPrefix:e.iconPrefix},null)},d=()=>{let o;if(e.loading?o=e.loadingText:o=a.default?a.default():e.text,o)return v("span",{class:F("text")},[o])},u=()=>{const{color:o,plain:c}=e;if(o){const r={color:c?o:"white"};return c||(r.background=o),o.includes("gradient")?r.border=0:r.borderColor=o,r}},f=o=>{e.loading?Ee(o):e.disabled||(t("click",o),i())};return()=>{const{tag:o,type:c,size:r,block:g,round:y,plain:$,square:P,loading:D,disabled:I,hairline:j,nativeType:H,iconPosition:R}=e,B=[F([c,r,{plain:$,block:g,round:y,square:P,loading:D,disabled:I,hairline:j}]),{[nt]:j}];return v(o,{type:H,class:B,style:u(),disabled:I,onClick:f},{default:()=>[v("div",{class:F("content")},[R==="left"&&n(),d(),R==="right"&&n()])]})}}});const Mt=z(Pt);function Dt(e,t){return e>t?"horizontal":t>e?"vertical":""}function At(){const e=w(0),t=w(0),a=w(0),i=w(0),s=w(0),n=w(0),d=w(""),u=w(!0),f=()=>d.value==="vertical",o=()=>d.value==="horizontal",c=()=>{a.value=0,i.value=0,s.value=0,n.value=0,d.value="",u.value=!0};return{move:y=>{const $=y.touches[0];a.value=($.clientX<0?0:$.clientX)-e.value,i.value=$.clientY-t.value,s.value=Math.abs(a.value),n.value=Math.abs(i.value);const P=10;(!d.value||s.value<P&&n.value<P)&&(d.value=Dt(s.value,n.value)),u.value&&(s.value>se||n.value>se)&&(u.value=!1)},start:y=>{c(),e.value=y.touches[0].clientX,t.value=y.touches[0].clientY},reset:c,startX:e,startY:t,deltaX:a,deltaY:i,offsetX:s,offsetY:n,direction:d,isVertical:f,isHorizontal:o,isTap:u}}const[xe,W]=A("swipe"),Tt={loop:N,width:S,height:S,vertical:Boolean,autoplay:G(0),duration:G(500),touchable:N,lazyRender:Boolean,initialSwipe:G(0),indicatorColor:String,showIndicators:N,stopPropagation:N},Be=Symbol(xe);var Ft=_({name:xe,props:Tt,emits:["change","dragStart","dragEnd"],setup(e,{emit:t,slots:a}){const i=w(),s=w(),n=J({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let d=!1;const u=At(),{children:f,linkChildren:o}=Re(Be),c=E(()=>f.length),r=E(()=>n[e.vertical?"height":"width"]),g=E(()=>e.vertical?u.deltaY.value:u.deltaX.value),y=E(()=>n.rect?(e.vertical?n.rect.height:n.rect.width)-r.value*c.value:0),$=E(()=>r.value?Math.ceil(Math.abs(y.value)/r.value):c.value),P=E(()=>c.value*r.value),D=E(()=>(n.active+c.value)%c.value),I=E(()=>{const l=e.vertical?"vertical":"horizontal";return u.direction.value===l}),j=E(()=>{const l={transitionDuration:`${n.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${n.offset}px)`};if(r.value){const m=e.vertical?"height":"width",h=e.vertical?"width":"height";l[m]=`${P.value}px`,l[h]=e[h]?`${e[h]}px`:""}return l}),H=l=>{const{active:m}=n;return l?e.loop?q(m+l,-1,c.value):q(m+l,0,$.value):m},R=(l,m=0)=>{let h=l*r.value;e.loop||(h=Math.min(h,-y.value));let p=m-h;return e.loop||(p=q(p,y.value,0)),p},B=({pace:l=0,offset:m=0,emitChange:h})=>{if(c.value<=1)return;const{active:p}=n,b=H(l),Y=R(b,m);if(e.loop){if(f[0]&&Y!==y.value){const V=Y<y.value;f[0].setOffset(V?P.value:0)}if(f[c.value-1]&&Y!==0){const V=Y>0;f[c.value-1].setOffset(V?-P.value:0)}}n.active=b,n.offset=Y,h&&b!==p&&t("change",D.value)},K=()=>{n.swiping=!0,n.active<=-1?B({pace:c.value}):n.active>=c.value&&B({pace:-c.value})},Se=()=>{K(),u.reset(),U(()=>{n.swiping=!1,B({pace:-1,emitChange:!0})})},ee=()=>{K(),u.reset(),U(()=>{n.swiping=!1,B({pace:1,emitChange:!0})})};let te;const k=()=>clearTimeout(te),M=()=>{k(),+e.autoplay>0&&c.value>1&&(te=setTimeout(()=>{ee(),M()},+e.autoplay))},T=(l=+e.initialSwipe)=>{if(!i.value)return;const m=()=>{var h,p;if(!ue(i)){const b={width:i.value.offsetWidth,height:i.value.offsetHeight};n.rect=b,n.width=+((h=e.width)!=null?h:b.width),n.height=+((p=e.height)!=null?p:b.height)}c.value&&(l=Math.min(c.value-1,l),l===-1&&(l=c.value-1)),n.active=l,n.swiping=!0,n.offset=R(l),f.forEach(b=>{b.setOffset(0)}),M()};ue(i)?he().then(m):m()},ne=()=>T(n.active);let ae;const $e=l=>{!e.touchable||l.touches.length>1||(u.start(l),d=!1,ae=Date.now(),k(),K())},Ce=l=>{e.touchable&&n.swiping&&(u.move(l),I.value&&(!e.loop&&(n.active===0&&g.value>0||n.active===c.value-1&&g.value<0)||(Ee(l,e.stopPropagation),B({offset:g.value}),d||(t("dragStart",{index:D.value}),d=!0))))},ie=()=>{if(!e.touchable||!n.swiping)return;const l=Date.now()-ae,m=g.value/l;if((Math.abs(m)>.25||Math.abs(g.value)>r.value/2)&&I.value){const p=e.vertical?u.offsetY.value:u.offsetX.value;let b=0;e.loop?b=p>0?g.value>0?-1:1:0:b=-Math[g.value>0?"ceil":"floor"](g.value/r.value),B({pace:b,emitChange:!0})}else g.value&&B({pace:0});d=!1,n.swiping=!1,t("dragEnd",{index:D.value}),M()},Pe=(l,m={})=>{K(),u.reset(),U(()=>{let h;e.loop&&l===c.value?h=n.active===0?0:l:h=l%c.value,m.immediate?U(()=>{n.swiping=!1}):n.swiping=!1,B({pace:h-n.active,emitChange:!0})})},De=(l,m)=>{const h=m===D.value,p=h?{backgroundColor:e.indicatorColor}:void 0;return v("i",{style:p,class:W("indicator",{active:h})},null)},Ae=()=>{if(a.indicator)return a.indicator({active:D.value,total:c.value});if(e.showIndicators&&c.value>1)return v("div",{class:W("indicators",{vertical:e.vertical})},[Array(c.value).fill("").map(De)])};return we({prev:Se,next:ee,state:n,resize:ne,swipeTo:Pe}),o({size:r,props:e,count:c,activeIndicator:D}),O(()=>e.initialSwipe,l=>T(+l)),O(c,()=>T(n.active)),O(()=>e.autoplay,M),O([Ke,Ue,()=>e.width,()=>e.height],ne),O(ke(),l=>{l==="visible"?M():k()}),ge(T),Oe(()=>T(n.active)),it(()=>T(n.active)),_e(k),ze(k),Me("touchmove",Ce,{target:s}),()=>{var l;return v("div",{ref:i,class:W()},[v("div",{ref:s,style:j.value,class:W("track",{vertical:e.vertical}),onTouchstartPassive:$e,onTouchend:ie,onTouchcancel:ie},[(l=a.default)==null?void 0:l.call(a)]),Ae()])}}});const Yt=z(Ft),[Ot,_t]=A("swipe-item");var zt=_({name:Ot,setup(e,{slots:t}){let a;const i=J({offset:0,inited:!1,mounted:!1}),{parent:s,index:n}=Ye(Be);if(!s)return;const d=E(()=>{const o={},{vertical:c}=s.props;return s.size.value&&(o[c?"height":"width"]=`${s.size.value}px`),i.offset&&(o.transform=`translate${c?"Y":"X"}(${i.offset}px)`),o}),u=E(()=>{const{loop:o,lazyRender:c}=s.props;if(!c||a)return!0;if(!i.mounted)return!1;const r=s.activeIndicator.value,g=s.count.value-1,y=r===0&&o?g:r-1,$=r===g&&o?0:r+1;return a=n.value===r||n.value===y||n.value===$,a}),f=o=>{i.offset=o};return ge(()=>{he(()=>{i.mounted=!0})}),we({setOffset:f}),()=>{var o;return v("div",{class:_t(),style:d.value},[u.value?(o=t.default)==null?void 0:o.call(t):null])}}});const Nt=z(zt);export{Mt as B,Yt as S,Nt as a};

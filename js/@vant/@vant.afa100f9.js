import{i as n,g as e,o as i,c as t,r,a as s,b as o,d as a,w as u,p as d,e as c,n as l,f,u as p,h as v}from"../@vue/@vue.f4dbe895.js";var h="undefined"!=typeof window;function w(n){return h?requestAnimationFrame(n):-1}function y(n){w((()=>w(n)))}function x(s){const o=n(s,null);if(o){const n=e(),{link:r,unlink:s,internalChildren:a}=o;r(n),i((()=>s(n)));return{parent:o,index:t((()=>a.indexOf(n)))}}return{parent:null,index:r(-1)}}var b,m,k,g=(n,e)=>{const i=n.indexOf(e);return-1===i?n.findIndex((n=>void 0!==e.key&&null!==e.key&&n.type===e.type&&n.key===e.key)):i};function E(n,e,i){const t=function(n){const e=[],i=n=>{Array.isArray(n)&&n.forEach((n=>{var t;v(n)&&(e.push(n),(null==(t=n.component)?void 0:t.subTree)&&(e.push(n.component.subTree),i(n.component.subTree.children)),n.children&&i(n.children))}))};return i(n),e}(n.subTree.children);i.sort(((n,e)=>g(t,n.vnode)-g(t,e.vnode)));const r=i.map((n=>n.proxy));e.sort(((n,e)=>r.indexOf(n)-r.indexOf(e)))}function O(n){const i=s([]),t=s([]),r=e();return{children:i,linkChildren:e=>{d(n,Object.assign({link:n=>{n.proxy&&(t.push(n),i.push(n.proxy),E(r,i,t))},unlink:n=>{const e=t.indexOf(n);i.splice(e,1),t.splice(e,1)},children:i,internalChildren:t},e))}}}function L(n,e,t={}){if(!h)return;const{target:r=window,passive:s=!1,capture:d=!1}=t;let v,w=!1;const y=i=>{if(w)return;const t=p(i);t&&!v&&(t.addEventListener(n,e,{capture:d,passive:s}),v=!0)},x=i=>{if(w)return;const t=p(i);t&&v&&(t.removeEventListener(n,e,d),v=!1)};let b;return i((()=>x(r))),o((()=>x(r))),function(n){let e;c((()=>{n(),l((()=>{e=!0}))})),f((()=>{e&&n()}))}((()=>y(r))),a(r)&&(b=u(r,((n,e)=>{x(e),y(n)}))),()=>{null==b||b(),x(r),w=!0}}function T(){if(!b&&(b=r(0),m=r(0),h)){const n=()=>{b.value=window.innerWidth,m.value=window.innerHeight};n(),window.addEventListener("resize",n,{passive:!0}),window.addEventListener("orientationchange",n,{passive:!0})}return{width:b,height:m}}function A(){if(!k&&(k=r("visible"),h)){const n=()=>{k.value=document.hidden?"hidden":"visible"};n(),window.addEventListener("visibilitychange",n)}return k}export{O as a,A as b,L as c,y as d,x as e,T as u};

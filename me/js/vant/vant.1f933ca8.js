import{u as e,r as t,a,i as n,w as o,g as l,x as i,c as r,y as s,z as c,e as u,f as v,b as d,A as p,n as f}from"../@vue/@vue.f4dbe895.js";import{u as g,a as h,b as m,c as y,d as b,e as w}from"../@vant/@vant.afa100f9.js";const x=Object.assign,S="undefined"!=typeof window,$=e=>null!==e&&"object"==typeof e,z=e=>null!=e,C=e=>"function"==typeof e,P=e=>"number"==typeof e||/^\d+(\.\d+)?$/.test(e);function B(e,t){const a=t.split(".");let n=e;return a.forEach((e=>{var t;n=$(n)&&null!=(t=n[e])?t:""})),n}const T=[Number,String],k={type:Boolean,default:!0},A=e=>({type:T,default:e}),O=e=>({type:String,default:e});S&&/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase());function M(e,t){("boolean"!=typeof e.cancelable||e.cancelable)&&e.preventDefault(),t&&(e=>{e.stopPropagation()})(e)}function j(t){const a=e(t);if(!a)return!1;const n=window.getComputedStyle(a),o="none"===n.display,l=null===a.offsetParent&&"fixed"!==n.position;return o||l}const{width:X,height:E}=g();function Y(e){if(z(e))return P(e)?`${e}px`:String(e)}const D=/-(\w)/g,I=e=>e.replace(D,((e,t)=>t.toUpperCase())),L=(e,t,a)=>Math.min(Math.max(e,t),a),{hasOwnProperty:q}=Object.prototype;function N(e,t){return Object.keys(t).forEach((a=>{!function(e,t,a){const n=t[a];z(n)&&(q.call(e,a)&&$(n)?e[a]=N(Object(e[a]),n):e[a]=n)}(e,t,a)})),e}const R=t("zh-CN"),H=a({"zh-CN":{name:"姓名",tel:"电话",save:"保存",clear:"清空",cancel:"取消",confirm:"确认",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>`${e}年${t}月`,rangePrompt:e=>`最多选择 ${e} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:e=>`${e}折`,condition:e=>`满${e}元可用`},vanCouponCell:{title:"优惠券",count:e=>`${e}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}}});var W={messages:()=>H[R.value],use(e,t){R.value=e,this.add({[e]:t})},add(e={}){N(H,e)}};function Z(e){const t=I(e)+".";return(e,...a)=>{const n=W.messages(),o=B(n,t+e)||B(n,e);return C(o)?o(...a):o}}function _(e,t){return t?"string"==typeof t?` ${e}--${t}`:Array.isArray(t)?t.reduce(((t,a)=>t+_(e,a)),""):Object.keys(t).reduce(((a,n)=>a+(t[n]?_(e,n):"")),""):""}function U(e){return(t,a)=>(t&&"string"!=typeof t&&(a=t,t=""),`${t=t?`${e}__${t}`:e}${_(t,a)}`)}function V(e){const t=`van-${e}`;return[t,U(t),Z(t)]}function F(e){return e.install=t=>{const{name:a}=e;a&&(t.component(a,e),t.component(I(`-${a}`),e))},e}const G=Symbol();function J(e){const t=l();t&&x(t.proxy,e)}const K={to:[String,Object],url:String,replace:Boolean};function Q(){const e=l().proxy;return()=>function({to:e,url:t,replace:a,$router:n}){e&&n?n[a?"replace":"push"](e):t&&(a?location.replace(t):location.href=t)}(e)}const[ee,te]=V("badge");const ae=F(i({name:ee,props:{dot:Boolean,max:T,tag:O("div"),color:String,offset:Array,content:T,showZero:k,position:O("top-right")},setup(e,{slots:t}){const a=()=>{if(t.content)return!0;const{content:a,showZero:n}=e;return z(a)&&""!==a&&(n||0!==a&&"0"!==a)},n=()=>{const{dot:n,max:o,content:l}=e;if(!n&&a())return t.content?t.content():z(o)&&P(l)&&+l>+o?`${o}+`:l},o=e=>e.startsWith("-")?e.replace("-",""):`-${e}`,l=r((()=>{const a={background:e.color};if(e.offset){const[n,l]=e.offset,{position:i}=e,[r,s]=i.split("-");t.default?(a[r]="number"==typeof l?Y("top"===r?l:-l):"top"===r?Y(l):o(l),a[s]="number"==typeof n?Y("left"===s?n:-n):"left"===s?Y(n):o(n)):(a.marginTop=Y(l),a.marginLeft=Y(n))}return a})),i=()=>{if(a()||e.dot)return s("div",{class:te([e.position,{dot:e.dot,fixed:!!t.default}]),style:l.value},[n()])};return()=>{if(t.default){const{tag:a}=e;return s(a,{class:te("wrapper")},{default:()=>[t.default(),i()]})}return i()}}})),[ne,oe]=V("config-provider"),le=Symbol(ne),[ie,re]=V("icon");const se=F(i({name:ie,props:{dot:Boolean,tag:O("i"),name:String,size:T,badge:T,color:String,badgeProps:Object,classPrefix:String},setup(e,{slots:t}){const a=n(le,null),o=r((()=>e.classPrefix||(null==a?void 0:a.iconPrefix)||re()));return()=>{const{tag:a,dot:n,name:l,size:i,badge:r,color:u}=e,v=(e=>null==e?void 0:e.includes("/"))(l);return s(ae,c({dot:n,tag:a,class:[o.value,v?"":`${o.value}-${l}`],style:{color:u,fontSize:Y(i)},content:r},e.badgeProps),{default:()=>{var e;return[null==(e=t.default)?void 0:e.call(t),v&&s("img",{class:re("image"),src:l},null)]}})}}})),[ce,ue]=V("loading"),ve=Array(12).fill(null).map(((e,t)=>s("i",{class:ue("line",String(t+1))},null))),de=s("svg",{class:ue("circular"),viewBox:"25 25 50 50"},[s("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]);const pe=F(i({name:ce,props:{size:T,type:O("circular"),color:String,vertical:Boolean,textSize:T,textColor:String},setup(e,{slots:t}){const a=r((()=>x({color:e.color},function(e){if(z(e)){if(Array.isArray(e))return{width:Y(e[0]),height:Y(e[1])};const t=Y(e);return{width:t,height:t}}}(e.size)))),n=()=>{const n="spinner"===e.type?ve:de;return s("span",{class:ue("spinner",e.type),style:a.value},[t.icon?t.icon():n])},o=()=>{var a;if(t.default)return s("span",{class:ue("text"),style:{fontSize:Y(e.textSize),color:null!=(a=e.textColor)?a:e.color}},[t.default()])};return()=>{const{type:t,vertical:a}=e;return s("div",{class:ue([t,{vertical:a}]),"aria-live":"polite","aria-busy":!0},[n(),o()])}}})),[fe,ge]=V("button");const he=F(i({name:fe,props:x({},K,{tag:O("button"),text:String,icon:String,type:O("default"),size:O("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:O("button"),loadingSize:T,loadingText:String,loadingType:String,iconPosition:O("left")}),emits:["click"],setup(e,{emit:t,slots:a}){const n=Q(),o=()=>e.loading?a.loading?a.loading():s(pe,{size:e.loadingSize,type:e.loadingType,class:ge("loading")},null):a.icon?s("div",{class:ge("icon")},[a.icon()]):e.icon?s(se,{name:e.icon,class:ge("icon"),classPrefix:e.iconPrefix},null):void 0,l=()=>{let t;if(t=e.loading?e.loadingText:a.default?a.default():e.text,t)return s("span",{class:ge("text")},[t])},i=()=>{const{color:t,plain:a}=e;if(t){const e={color:a?t:"white"};return a||(e.background=t),t.includes("gradient")?e.border=0:e.borderColor=t,e}},r=a=>{e.loading?M(a):e.disabled||(t("click",a),n())};return()=>{const{tag:t,type:a,size:n,block:c,round:u,plain:v,square:d,loading:p,disabled:f,hairline:g,nativeType:h,iconPosition:m}=e,y=[ge([a,n,{plain:v,block:c,round:u,square:d,loading:p,disabled:f,hairline:g}]),{"van-hairline--surround":g}];return s(t,{type:h,class:y,style:i(),disabled:f,onClick:r},{default:()=>[s("div",{class:ge("content")},["left"===m&&o(),l(),"right"===m&&o()])]})}}}));const[me,ye]=V("swipe"),be={loop:k,width:T,height:T,vertical:Boolean,autoplay:A(0),duration:A(500),touchable:k,lazyRender:Boolean,initialSwipe:A(0),indicatorColor:String,showIndicators:k,stopPropagation:k},we=Symbol(me);const xe=F(i({name:me,props:be,emits:["change","dragStart","dragEnd"],setup(e,{emit:l,slots:i}){const c=t(),g=t(),w=a({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let x=!1;const S=function(){const e=t(0),a=t(0),n=t(0),o=t(0),l=t(0),i=t(0),r=t(""),s=t(!0),c=()=>{n.value=0,o.value=0,l.value=0,i.value=0,r.value="",s.value=!0};return{move:t=>{const c=t.touches[0];var u,v;n.value=(c.clientX<0?0:c.clientX)-e.value,o.value=c.clientY-a.value,l.value=Math.abs(n.value),i.value=Math.abs(o.value),(!r.value||l.value<10&&i.value<10)&&(r.value=(u=l.value)>(v=i.value)?"horizontal":v>u?"vertical":""),s.value&&(l.value>5||i.value>5)&&(s.value=!1)},start:t=>{c(),e.value=t.touches[0].clientX,a.value=t.touches[0].clientY},reset:c,startX:e,startY:a,deltaX:n,deltaY:o,offsetX:l,offsetY:i,direction:r,isVertical:()=>"vertical"===r.value,isHorizontal:()=>"horizontal"===r.value,isTap:s}}(),{children:$,linkChildren:z}=h(we),C=r((()=>$.length)),P=r((()=>w[e.vertical?"height":"width"])),B=r((()=>e.vertical?S.deltaY.value:S.deltaX.value)),T=r((()=>{if(w.rect){return(e.vertical?w.rect.height:w.rect.width)-P.value*C.value}return 0})),k=r((()=>P.value?Math.ceil(Math.abs(T.value)/P.value):C.value)),A=r((()=>C.value*P.value)),O=r((()=>(w.active+C.value)%C.value)),Y=r((()=>{const t=e.vertical?"vertical":"horizontal";return S.direction.value===t})),D=r((()=>{const t={transitionDuration:`${w.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${w.offset}px)`};if(P.value){const a=e.vertical?"height":"width",n=e.vertical?"width":"height";t[a]=`${A.value}px`,t[n]=e[n]?`${e[n]}px`:""}return t})),I=(t,a=0)=>{let n=t*P.value;e.loop||(n=Math.min(n,-T.value));let o=a-n;return e.loop||(o=L(o,T.value,0)),o},q=({pace:t=0,offset:a=0,emitChange:n})=>{if(C.value<=1)return;const{active:o}=w,i=(t=>{const{active:a}=w;return t?e.loop?L(a+t,-1,C.value):L(a+t,0,k.value):a})(t),r=I(i,a);if(e.loop){if($[0]&&r!==T.value){const e=r<T.value;$[0].setOffset(e?A.value:0)}if($[C.value-1]&&0!==r){const e=r>0;$[C.value-1].setOffset(e?-A.value:0)}}w.active=i,w.offset=r,n&&i!==o&&l("change",O.value)},N=()=>{w.swiping=!0,w.active<=-1?q({pace:C.value}):w.active>=C.value&&q({pace:-C.value})},R=()=>{N(),S.reset(),b((()=>{w.swiping=!1,q({pace:1,emitChange:!0})}))};let H;const W=()=>clearTimeout(H),Z=()=>{W(),+e.autoplay>0&&C.value>1&&(H=setTimeout((()=>{R(),Z()}),+e.autoplay))},_=(t=+e.initialSwipe)=>{if(!c.value)return;const a=()=>{var a,n;if(!j(c)){const t={width:c.value.offsetWidth,height:c.value.offsetHeight};w.rect=t,w.width=+(null!=(a=e.width)?a:t.width),w.height=+(null!=(n=e.height)?n:t.height)}C.value&&-1===(t=Math.min(C.value-1,t))&&(t=C.value-1),w.active=t,w.swiping=!0,w.offset=I(t),$.forEach((e=>{e.setOffset(0)})),Z()};j(c)?f().then(a):a()},U=()=>_(w.active);let V;const F=t=>{!e.touchable||t.touches.length>1||(S.start(t),x=!1,V=Date.now(),W(),N())},K=()=>{if(!e.touchable||!w.swiping)return;const t=Date.now()-V,a=B.value/t;if((Math.abs(a)>.25||Math.abs(B.value)>P.value/2)&&Y.value){const t=e.vertical?S.offsetY.value:S.offsetX.value;let a=0;a=e.loop?t>0?B.value>0?-1:1:0:-Math[B.value>0?"ceil":"floor"](B.value/P.value),q({pace:a,emitChange:!0})}else B.value&&q({pace:0});x=!1,w.swiping=!1,l("dragEnd",{index:O.value}),Z()},Q=(t,a)=>{const n=a===O.value,o=n?{backgroundColor:e.indicatorColor}:void 0;return s("i",{style:o,class:ye("indicator",{active:n})},null)};return J({prev:()=>{N(),S.reset(),b((()=>{w.swiping=!1,q({pace:-1,emitChange:!0})}))},next:R,state:w,resize:U,swipeTo:(t,a={})=>{N(),S.reset(),b((()=>{let n;n=e.loop&&t===C.value?0===w.active?0:t:t%C.value,a.immediate?b((()=>{w.swiping=!1})):w.swiping=!1,q({pace:n-w.active,emitChange:!0})}))}}),z({size:P,props:e,count:C,activeIndicator:O}),o((()=>e.initialSwipe),(e=>_(+e))),o(C,(()=>_(w.active))),o((()=>e.autoplay),Z),o([X,E,()=>e.width,()=>e.height],U),o(m(),(e=>{"visible"===e?Z():W()})),u(_),v((()=>_(w.active))),function(e){const t=n(G,null);t&&o(t,(t=>{t&&e()}))}((()=>_(w.active))),d(W),p(W),y("touchmove",(t=>{if(e.touchable&&w.swiping&&(S.move(t),Y.value)){!e.loop&&(0===w.active&&B.value>0||w.active===C.value-1&&B.value<0)||(M(t,e.stopPropagation),q({offset:B.value}),x||(l("dragStart",{index:O.value}),x=!0))}}),{target:g}),()=>{var t;return s("div",{ref:c,class:ye()},[s("div",{ref:g,style:D.value,class:ye("track",{vertical:e.vertical}),onTouchstartPassive:F,onTouchend:K,onTouchcancel:K},[null==(t=i.default)?void 0:t.call(i)]),i.indicator?i.indicator({active:O.value,total:C.value}):e.showIndicators&&C.value>1?s("div",{class:ye("indicators",{vertical:e.vertical})},[Array(C.value).fill("").map(Q)]):void 0])}}})),[Se,$e]=V("swipe-item");const ze=F(i({name:Se,setup(e,{slots:t}){let n;const o=a({offset:0,inited:!1,mounted:!1}),{parent:l,index:i}=w(we);if(!l)return;const c=r((()=>{const e={},{vertical:t}=l.props;return l.size.value&&(e[t?"height":"width"]=`${l.size.value}px`),o.offset&&(e.transform=`translate${t?"Y":"X"}(${o.offset}px)`),e})),v=r((()=>{const{loop:e,lazyRender:t}=l.props;if(!t||n)return!0;if(!o.mounted)return!1;const a=l.activeIndicator.value,r=l.count.value-1,s=0===a&&e?r:a-1,c=a===r&&e?0:a+1;return n=i.value===a||i.value===s||i.value===c,n}));return u((()=>{f((()=>{o.mounted=!0}))})),J({setOffset:e=>{o.offset=e}}),()=>{var e;return s("div",{class:$e(),style:c.value},[v.value?null==(e=t.default)?void 0:e.call(t):null])}}}));export{he as B,xe as S,ze as a};
